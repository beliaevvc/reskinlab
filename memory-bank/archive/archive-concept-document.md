# TASK ARCHIVE: Concept Document –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ

## METADATA
- **Task ID:** concept-document
- **Date:** 2026-02-08
- **Complexity:** Level 2
- **Status:** ARCHIVED ‚úÖ

---

## SUMMARY

–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è "Concept Document" –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä ‚Äî –ø–µ—Ä–≤–∞—è –≤ —Å–ø–∏—Å–∫–µ, –≤—ã—à–µ Symbols. –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è: $1000 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å + 1% –æ—Ç —Å—É–º–º—ã –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö items –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –¥–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω—ã–π —Ä–∞—Å—á—ë—Ç. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤–æ –≤—Å–µ —Å–ª–æ–∏: –¥–∞–Ω–Ω—ã–µ, —Ä–∞—Å—á—ë—Ç—ã, UI –æ–±–æ–∏—Ö –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø—Ä–µ—Å–µ—Ç—ã –∏ –∞–¥–º–∏–Ω–∫—É.

---

## REQUIREMENTS

1. **–ù–æ–≤—ã–π item** ‚Äî "Concept Document" –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ø–µ—Ä–≤–∞—è –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ
2. **–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** ‚Äî $1000 (base) + 1% –æ—Ç —Å—É–º–º—ã –æ—Å—Ç–∞–ª—å–Ω—ã—Ö items (surchargePercent)
3. **–ë–µ–∑ order type** ‚Äî –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º—ã Art Only / Anim Only / Art+Anim (noOrderType)
4. **–ë–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏** ‚Äî –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–∞ (noAnimation)
5. **–ë–µ–∑ style coefficient** ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ü–µ–Ω—É (noStyleCoeff)
6. **–ú–∞–∫—Å–∏–º—É–º 1 —à—Ç—É–∫–∞** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ qty (maxQty: 1)
7. **–ë–µ–π–¥–∂ "Recommended"** ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ UI (recommended)
8. **–ò—Å–∫–ª—é—á—ë–Ω –∏–∑ addon-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π** ‚Äî –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ –¥–æ–∑–∞–∫–∞–∑–µ (addonExcluded)
9. **–û–ø–∏—Å–∞–Ω–∏—è RU/EN** ‚Äî –ø–æ–ª–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è, –ø—Ä–∏–º–µ—Ä—ã –∏ —Ç–µ—Ö. —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–∞ –¥–≤—É—Ö —è–∑—ã–∫–∞—Ö
10. **–ü—Ä–µ—Å–µ—Ç Premium Flagship** ‚Äî –≤–∫–ª—é—á—ë–Ω –≤ –ø—Ä–µ—Å–µ—Ç
11. **–ê–¥–º–∏–Ω–∫–∞** ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Ü–µ–Ω–∞ —á–µ—Ä–µ–∑ price_configs
12. **–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–±–µ–∑ Art Only –±–µ–π–¥–∂–∞, –±–µ–∑ Anim: None)
13. **–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫** ‚Äî usage rights, payment model, revisions, discounts, minimum order –≤–ª–∏—è—é—Ç –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Ü–µ–Ω—É

---

## IMPLEMENTATION

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: —Ñ–ª–∞–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

–í–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ `if (item.id === 'concept_doc')` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ñ–ª–∞–≥–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ item –≤ `categories.js`:

| –§–ª–∞–≥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| `surchargePercent: 0.01` | 1% –æ—Ç —Å—É–º–º—ã –¥—Ä—É–≥–∏—Ö items |
| `noOrderType: true` | –°–∫—Ä—ã—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å Type |
| `noAnimation: true` | –°–∫—Ä—ã—Ç—å Animation selector |
| `noStyleCoeff: true` | –ù–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å style coefficient |
| `maxQty: 1` | –ú–∞–∫—Å–∏–º—É–º 1 —à—Ç—É–∫–∞ |
| `recommended: true` | –ë–µ–π–¥–∂ "Recommended" |
| `addonExcluded: true` | –ò—Å–∫–ª—é—á–∏—Ç—å –∏–∑ addon-—Å–ø–µ–∫ |

### –î–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω—ã–π —Ä–∞—Å—á—ë—Ç (useCalculator.js)

**–ü—Ä–æ—Ö–æ–¥ 1** ‚Äî –ø–æ–¥—Å—á—ë—Ç `regularItemsSum`: —Å—É–º–º–∞ –≤—Å–µ—Ö items –±–µ–∑ `surchargePercent`.
**–ü—Ä–æ—Ö–æ–¥ 2** ‚Äî —Ä–∞—Å—á—ë—Ç surcharge items: `unitPrice = item.base + (item.surchargePercent * regularItemsSum)`. Surcharge items –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ `lineItems` —á–µ—Ä–µ–∑ `unshift()`.

### UI –∏–∑–º–µ–Ω–µ–Ω–∏—è

- **ItemRow.jsx** ‚Äî —É—Å–ª–æ–≤–Ω–æ–µ —Å–∫—Ä—ã—Ç–∏–µ Order Type selector –∏ Animation selector, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "+" –ø–æ maxQty, –±–µ–π–¥–∂ "Recommended", –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ surcharge —Ñ–æ—Ä–º—É–ª—ã
- **CategorySection.jsx** ‚Äî —Å–∫—Ä—ã—Ç–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ "Type" –∏ "Anim" –µ—Å–ª–∏ –≤—Å–µ items –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–º–µ—é—Ç noOrderType/noAnimation
- **SpecificationView.jsx** ‚Äî —Ç–∏—Ä–µ "‚Äî" –≤–º–µ—Å—Ç–æ Art Only –±–µ–π–¥–∂–∞ –∏ Anim: None –¥–ª—è items —Å noOrderType/noAnimation
- **CalculatorPage.jsx + CalculatorModal.jsx** ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è items —Å addonExcluded –ø—Ä–∏ isSettingsLocked

### –î–∞–Ω–Ω—ã–µ –∏ –º–∏–≥—Ä–∞—Ü–∏—è

- **categories.js** ‚Äî –Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø–µ—Ä–≤–æ–π –≤ CATEGORIES array —Å –ø–æ–ª–Ω—ã–º–∏ RU/EN –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
- **presets.js** ‚Äî `concept_doc: 1` –≤ Premium Flagship
- **046_concept_document.sql** ‚Äî seed: concept_doc_base ($1000) + concept_doc_surcharge (0.01) –≤ price_configs
- **PricingPage.jsx** ‚Äî –∏–∫–æ–Ω–∫–∞ üìã –∏ –ø–æ–∑–∏—Ü–∏—è –≤ CATEGORY_ORDER

---

## FILES

### –ò–∑–º–µ–Ω–µ–Ω—ã (9 —Ñ–∞–π–ª–æ–≤)
| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `calculator/src/data/categories.js` | –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è Concept Document —Å —Ñ–ª–∞–≥–∞–º–∏ |
| `calculator/src/hooks/useCalculator.js` | –î–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω—ã–π —Ä–∞—Å—á—ë—Ç, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ñ–ª–∞–≥–æ–≤ –≤ createInitialItemsState, updateItem, setAllOrderType, applyPreset, loadState, totals |
| `calculator/src/components/ItemRow.jsx` | –°–∫—Ä—ã—Ç–∏–µ controls, maxQty, –±–µ–π–¥–∂ Recommended, surcharge display |
| `calculator/src/components/CategorySection.jsx` | –£—Å–ª–æ–≤–Ω–æ–µ —Å–∫—Ä—ã—Ç–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Type/Anim |
| `calculator/src/components/SpecificationView.jsx` | –¢–∏—Ä–µ –≤–º–µ—Å—Ç–æ Type/Anim –±–µ–π–¥–∂–µ–π |
| `calculator/src/pages/calculator/CalculatorPage.jsx` | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è addonExcluded items |
| `calculator/src/components/project/CalculatorModal.jsx` | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è |
| `calculator/src/data/presets.js` | concept_doc –≤ Premium Flagship |
| `calculator/src/pages/admin/PricingPage.jsx` | –ö–∞—Ç–µ–≥–æ—Ä–∏—è –≤ CATEGORY_ICONS + CATEGORY_ORDER |

### –°–æ–∑–¥–∞–Ω (1 —Ñ–∞–π–ª)
| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| `calculator/supabase/migrations/046_concept_document.sql` | Seed: base + surcharge –≤ price_configs |

---

## LESSONS LEARNED

1. **–§–ª–∞–≥–∏ –Ω–∞ item > –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ id** ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è, —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
2. **SpecificationView –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç ItemRow** ‚Äî —Ä–∞–∑–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
3. **–í–æ–ø—Ä–æ—Å—ã –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç–∫–æ–Ω–æ–º—è—Ç –≤—Ä–µ–º—è** ‚Äî —É—Ç–æ—á–Ω–µ–Ω–∏–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–ª–æ –ø–µ—Ä–µ–¥–µ–ª–∫–∏
4. **Addon-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–µ–π—Å** ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ item

---

## REFERENCES

- **Reflection:** `memory-bank/reflection/reflection-concept-document.md`
- **Migration:** `calculator/supabase/migrations/046_concept_document.sql`
